@{
    ViewData["Title"] = "Kaydol";
    Layout = "_Layout";
}
<head>
    <!-- HEAD kısmına (CSS için) -->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

    <!-- BODY'nin sonuna (JS için) -->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet" />

</head>


<!-- Content Header -->
<div class="wrapper">
    <div class="content-wrapper">
        <section class="content-header">
            <div class="container-fluid">
                <div class="row mb-2">
                    <div class="col-sm-6">
                        <h1>Yeni Hesap Oluştur</h1>
                    </div>
                    <div class="col-sm-6">
                        <ol class="breadcrumb float-sm-right">
                            <li class="breadcrumb-item"><a href="/">Anasayfa</a></li>
                            <li class="breadcrumb-item active">Kaydol</li>
                        </ol>
                    </div>
                </div>
            </div>
        </section>

        <!-- Main content -->
        <section class="content">
            <div class="container-fluid">
                <div class="row">
                    <div class="col-md-8 offset-md-2">
                        <div class="card card-success">
                            <div class="card-header">
                                <h3 class="card-title">
                                    <i class="fas fa-paw"></i> HAYTİC Ailesine Katılın
                                </h3>
                            </div>
                            <!-- Form Başlangıç -->
                            <form asp-action="kayit" method="post">
                                <div class="card-body">
                                    <!-- Sol Taraf (Form) -->
                                    <div class="row">
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="Username">Kullanıcı Adı</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-user"></i></span>
                                                    </div>
                                                    <input type="text" class="form-control" id="Username" name="Username" placeholder="Min. 5 karakter" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="Email">E-Posta</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-envelope"></i></span>
                                                    </div>
                                                    <input type="email" class="form-control" id="Email" name="Email" placeholder="ornek@mail.com" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="BirthDate">Doğum Tarihi</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-calendar-alt"></i></span>
                                                    </div>
                                                    <input type="date" class="form-control" id="BirthDate" name="BirthDate" required>
                                                </div>
                                            </div>
                                        </div>

                                        <!-- Sağ Taraf (Form Devamı) -->
                                        <div class="col-md-6">
                                            <div class="form-group">
                                                <label for="Password">Şifre</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-lock"></i></span>
                                                    </div>
                                                    <input type="password" class="form-control" id="Password" name="Password" placeholder="Min. 8 karakter" required>
                                                </div>
                                            </div>

                                            <div class="form-group">
                                                <label for="ConfirmPassword">Şifre Tekrar</label>
                                                <div class="input-group">
                                                    <div class="input-group-prepend">
                                                        <span class="input-group-text"><i class="fas fa-check-circle"></i></span>
                                                    </div>
                                                    <input type="password" class="form-control" id="ConfirmPassword" name="ConfirmPassword" placeholder="Şifreyi tekrar girin" required>
                                                </div>
                                            </div>


                                        </div>
                                    </div>
                                </div>
                                <!-- /.card-body -->
                                <form asp-action="kayit" method="post">
                                    <!-- Form alanları -->
                                    <button type="submit" class="btn btn-success">Kaydol</button>
                                </form>

                            </form>
                            <!-- Modal HTML'i -->
                            <div class="modal fade" id="successModal" tabindex="-1" aria-labelledby="successModalLabel" aria-hidden="true">
                                <div class="modal-dialog modal-dialog-centered">
                                    <div class="modal-content bg-success text-white">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="successModalLabel">Kayıt Başarılı</h5>
                                            <button type="button" class="btn-close btn-close-white" data-bs-dismiss="modal" aria-label="Kapat"></button>
                                        </div>
                                        <div class="modal-body">
                                            Hesabınız başarıyla oluşturuldu!
                                        </div>
                                        <div class="modal-footer">
                                            <a href="/Home/Index" class="btn btn-light">Anasayfa</a>
                                        </div>
                                    </div>
                                </div>
                            </div>


                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

</div>

@section Styles {
    <style>
        .card-success {
            border-top: 3px solid #28a745;
        }

        .form-group label {
            color: #2E8B57;
            font-weight: 600;
        }

        .input-group-text {
            background-color: #e8f5e9;
            color: #2E8B57;
        }

        body {
            background-color: #f5f5f5;
        }
    </style>
}

@section Scripts {

    <script>
        $(document).ready(function () {
            var isSuccess = '@ViewBag.Success' === 'True';
            if (isSuccess) {
                var modal = new bootstrap.Modal(document.getElementById('successModal'));
                modal.show();
            }
        });
    </script>
    @{
        var isSuccess = ViewBag.Success as bool?;
    }

    @if (isSuccess == true)
    {
        <script>
            window.onload = function () {
                var modal = new bootstrap.Modal(document.getElementById('successModal'));
                modal.show();
            };
        </script>
    }




    <script>
        $(document).ready(function() {
            // Şifre eşleşme kontrolü
            $('#ConfirmPassword').on('keyup', function() {
                if ($('#Password').val() !== $('#ConfirmPassword').val()) {
                    $(this).addClass('is-invalid');
                } else {
                    $(this).removeClass('is-invalid');
                }
            });

            // Doğum tarihi max bugünün tarihi
            var today = new Date().toISOString().split('T')[0];
            $('#BirthDate').attr('max', today);
        });
    </script>
    

    @if (ViewBag.Success != null && (bool)ViewBag.Success == true)
    {
        <script>
            window.onload = function () {
                var modal = new bootstrap.Modal(document.getElementById('successModal'));
                modal.show();
            };
        </script>
    }


}s